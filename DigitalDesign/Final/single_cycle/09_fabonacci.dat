// Fabonacci Fn = Fn-1 + Fn-2, F0 = 0, F1 = 1
//
// Note: This version is only for your reference.  It may not be
// verified completely.  Please report any bug you find out.

@0
0100010_10000_00000__000010000000000  //   main:  ADI  R16, R0, #1024
0010000_00010_10000__000000000000000  //          LD   R2, M[R16]
0100101_00010_00010__000000000000001  //          SBI  R2, R2, #1
0100010_00011_00000__000000000000000  //          ADI  R3, R0,  #0
0100010_00100_00000__000000000000001  //          ADI  R4, R0,  #1
0000010_00001_00011_00100_0000000000  //   add:   ADD  R1, R3, R4
0000010_00011_00100_00000_0000000000  //          ADD  R3, R4, R0
0000010_00100_00001_00000_0000000000  //          ADD  R4, R1, R0
0100101_00010_00010__000000000000001  //          SBI  R2, R2, #1
1001000_00000_00010__111111111111011  //          BNZ  R2, add (-5)
0100010_10010_00000__000010000000010  //   done:  ADI  R18, R0, #1026
0100000_00000_10010_00001_0000000000  //          ST   M[R18], R1


// Data Segment starts at 1024 = 0x400h
@400
00000000_00000000_00000000_00011001   //  25
00000000_00000000_00000000_00001100   //  12

@600
0000000_00000_00000__000000000000000  // NOP for branch_prediction feature  to flush the IR register
