// LCM (Least Common Multiple)
//
// Note: This version is only for your reference.  It may not be
// verified completely.  Please report any bug you find out.

@0
0100010_10000_00000__000010000000000  //main:     ADI  R16, R0, #1024
0010000_00010_10000__000000000000000  //          LD   R2, M[R16]
0100010_00111_00010__000000000000000  //          ADI  R7, R2, #0
0100010_10001_00000__000010000000001  //          ADI  R17, R0, #1025
0010000_00011_10001__000000000000000  //          LD   R3, M[R17]
0100010_01000_00011__000000000000000  //          ADI  R8, R3, #0
0000101_00001_00010_00011_0000000000  //   gcd:   SUB  R1, R2, R3
1100000_00000_00001__000000000000110  //          BZ   R1, done (+6)
1100101_00001_00010_00011_0000000000  //          SLT  R1, R2, R3
1001000_00000_00001__000000000000010  //          BNZ  R1, less (+2)
0000101_00010_00010_00011_0000000000  //          SUB  R2, R2, R3
1101000_00000_00000__111111111111010  //          JMP  gcd (-6)
0000101_00011_00011_00010_0000000000  //   less:  SUB  R3, R3, R2
1101000_00000_00000__111111111111000  //          JMP  gcd (-8)
1100101_00001_00111_00010_0000000000  //residue:  SLT  R1, R7, R2
1001000_00000_00001__000000000000011  //          BNZ  R1, add (+3)
0000101_00111_00111_00010_0000000000  //          SUB  R7, R7, R2
0100010_00100_00100__000000000000001  //          ADI  R4, R4, #1
1101000_00000_00000__111111111111011  //          JMP  residue (-5)
0000010_00110_00110_01000_0000000000  //   add:   ADD  R6, R6, R8
0100101_00100_00100__000000000000001  //          SBI  R4, R4, #1
1001000_00000_00100__111111111111101  //          BNZ  R4, add (-3)
0100010_10010_00000__000010000000010  //   done:  ADI  R18, R0, #1026
0100000_00000_10010_00111_0000000000  //          ST   M[R18], R7
0100010_10010_00000__000010000000011  //          ADI  R18, R0, #1027
0100000_00000_10010_00110_0000000000  //          ST   M[R18], R6




@400
00000000_00000000_00000000_00001100   // 12
00000000_00000000_00000000_00011011   // 27


@600
0000000_00000_00000__000000000000000  // NOP for branch_prediction feature  to flush the IR register
