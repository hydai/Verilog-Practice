// Fractional C = A!
//     R0: 0
//     R1: C
//
// Note: This version is only for your reference.  It may not be
// verified completely.  Please report any bug you find out.

// Code Segment starts at 0
@0
0100010_10000_00000__000010000000000  //   main:  ADI  R16, R0, #1024
0010000_00100_10000__000000000000000  //          LD   R4, M[R16]
0010000_00010_10000__000000000000000  //          LD   R2, M[R16]
0100010_00001_00000__000000000000001  //   ans1:  ADI  R1, R0, #1
0100010_00101_00000__000000000000010  //   ans1?: ADI  R5, R0, #2
1100101_00110_00100_00101_0000000000  //          SLT  R6, R4, R5
1001000_00000_00110__000000000001001  //          BNZ  R6, done  (+9)
0100101_00100_00100__000000000000001  //   next:  SBI  R4, R4, #1
1100000_00000_00100__000000000000111  //          BZ   R4, done  (+7)
1000000_00001_00000__000000000000000  //          MOVA R1, R0
1000000_00011_00100__000000000000000  //          MOVA R3, R4
0000010_00001_00001_00010_0000000000  //   mult:  ADD  R1, R1, R2
0100101_00011_00011__000000000000001  //          SBI  R3, R3, #1
1001000_00000_00011__111111111111101  //          BNZ  R3, mult  (-3)
1000000_00010_00001__000000000000000  //          MOVA R2, R1
1101000_00000_00000__111111111110111  //          JMP  next (-9)
0100010_10010_00000__000010000000010  //   done:  ADI  R18, R0, #1026
0100000_00000_10010_00001_0000000000  //          ST   M[R18], R1

0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP

// Data Segment starts at 1024 = 0x400h
@400
//0000000_00000_00000__000000000000000  //  0
//0000000_00000_00000__000000000000001  //  1
000000_00000_00000__000000000000101  //  5
//0000000_00000_00000__000000000000111  //  7
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP

// 1792 = 0x700h
@700
0000000_00000_00000__000000000000000  //          NOP
0000000_00000_00000__000000000000000  //          NOP


